# � 코딩 테스트 동작 원리 (아주 쉬운 버전)

이 문서는 어려운 개발 용어 다 빼고, **"우리 코드가 어떻게 돌아가는지"**를 **분식집 상황**에 빗대어 설명합니다.

---

## � 등장인물 소개 (파일들의 정체)

우리 `Problem` 폴더 안에 있는 파일들이 사실은 이런 역할을 하고 있습니다.

1.  **👨‍🍳 사용자 (웹 브라우저)**
    *   배고픈 손님. 먹고 싶은 메뉴(코드)를 적습니다.

2.  **🛎️ 카운터 알바생 (`ProblemController.java`)**
    *   손님의 주문을 받아줍니다.
    *   직접 요리는 안 하고, 주방장한테 **"이거 해줘!"** 라고 외치는 역할입니다.

3.  **🍳 주방장 (`JavaNativeExecutor.java`)**
    *   **이 시스템의 핵심!** 실제로 불을 쓰고 칼질을 하는 사람입니다.
    *   코드를 받아서 실행하고 결과를 만들어냅니다.

4.  **📝 주문서 양식 (`ExecutionRequest.java`)**
    *   주문할 때 쓰는 종이입니다. (메뉴는 뭔지, 옵션은 뭔지 적는 칸)

5.  **🍱 서빙 접시 (`ExecutionResponse.java`)**
    *   완성된 요리를 담아서 손님한테 내갈 때 쓰는 그릇입니다.

---

## 🎬 상황극: "코드 실행" 버튼을 눌렀을 때

### 1단계: 주문 (클릭!)
손님(브라우저)이 검은색 화면에 코드를 적고 **[실행]** 버튼을 딱 누릅니다.
> **손님**: "여기 `Hello World` 출력하는 코드 하나 실행해 주세요!"
> (손님이 **주문서 양식**에 코드를 적어서 **카운터 알바생**한테 건넵니다.)

### 2단계: 접수 (Controller)
**카운터 알바생(`Controller`)**이 주문서를 받습니다.
> **알바생**: "네, `Hello World` 코드 하나요! **주방장님!** 이거 처리해 주세요!"
> (알바생은 주문서를 들고 주방으로 뛰어갑니다.)

### 3단계: 요리 (Executor) 🔥 **제일 중요함**
**주방장(`JavaNativeExecutor`)**이 주문서를 받아서 요리를 시작합니다.

#### 🍳 비유 (Story)
1.  **도마 꺼내기**: 주방장은 자기만의 작업대(Temp 폴더)를 하나 배정받습니다.
2.  **재료 손질**: 주문서 글자를 옮겨 적어서 **진짜 문서**로 만듭니다.
3.  **조리**: 마법을 부려서 결과물을 만들어냅니다.
4.  **설거지**: 다 쓴 작업대와 문서는 바로 파쇄해 버립니다.

#### ⚙️ 실제 기술적 흐름 (Technical Flow)
1.  **임시 디렉토리 생성**: `Files.createTempDirectory("java-exec-...")` 호출.
    *   👉 `C:\Users\junse\AppData\Local\Temp\java-exec-1234` 폴더 생성.
2.  **파일 작성**: `Files.write(...)` 호출.
    *   👉 위 폴더 안에 `Main.java` 파일 생성 (내용: 사용자 코드).
3.  **컴파일**: `ProcessBuilder("javac", "Main.java").start()`
    *   👉 `Main.class` 파일 생성됨.
4.  **실행**: `ProcessBuilder("java", "Main").start()`
    *   👉 프로그램 실행 -> "Hello World" 출력 -> 변수에 저장.
5.  **삭제**: `finally` 블록에서 폴더와 파일(`Main.java`, `Main.class`) 전체 삭제.

---

### 4단계: 서빙 (Response)
주방장이 완성된 **서빙 접시**를 알바생한테 줍니다.
> **주방장**: "자, 여기 결과 나왔어."
> **알바생**: "손님! 주문하신 실행 결과 나왔습니다~"

### 5단계: 시식 (화면 출력)
손님(브라우저)은 접시를 받아서 내용을 확인합니다.
> **손님**: (화면을 보며) "오! `Hello World`가 잘 나왔네. 맛있다!"

---

## 💡 요약
1.  내가 쓴 코드는 **종이(Request)**에 적혀서 넘어간다.
2.  서버가 그 종이를 보고 **실제 파일(`Main.java`)**을 잠깐 만들었다가 실행한다.
3.  결과만 쏙 뽑아서 **접시(Response)**에 담아 돌려준다.
4.  만들었던 파일은 **즉시 삭제**해서 증거를 없앤다.
